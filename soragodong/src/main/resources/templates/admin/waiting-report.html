<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>대기 중인 신고목록</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/css/themify-icons.css">
    <link rel="stylesheet" href="/assets/css/metisMenu.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <link rel="stylesheet" href="/assets/css/responsive.css">
    <script src="/assets/js/vendor/modernizr-2.8.3.min.js"></script>
</head>
<body>

<div class="page-title-area">
    <div class="row align-items-center" style="padding: 20px 0;">
        <div class="col-sm-6">
            <div class="breadcrumbs-area clearfix">
                <h4 class="page-title pull-left">신고 처리</h4>
                <ul class="breadcrumbs pull-left">
                    <li><a href="/admin/index2">Home</a></li>
                    <li><span>대기 중인 신고</span></li>
                </ul>
            </div>
        </div>
        <div class="col-sm-6 text-right">
            <a href="/admin/index2" class="btn btn-primary btn-sm">
                <i class="fa fa-home"></i> 대시보드로 돌아가기
            </a>
        </div>
    </div>
</div>

<div class="main-content-inner">
    <div class="row">
        <div class="col-12 mt-5">
            <div class="card">
                <div class="card-body">
                    <h4 class="header-title">미처리 신고 내역</h4>

                    <div class="single-table">
                        <div class="table-responsive">
                            <table class="table table-hover text-center">
                                <thead class="text-uppercase bg-light">
                                <tr>
                                    <th scope="col">신고번호</th>
                                    <th scope="col">유형</th>
                                    <th scope="col">신고 대상(ID)</th>
                                    <th scope="col">신고자</th>
                                    <th scope="col">신고 사유</th>
                                    <th scope="col">신고일</th>
                                    <th scope="col">상태</th>
                                    <th scope="col">관리</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope="row">REP_101</th>
                                    <td>게시글</td>
                                    <td><a href="#" class="text-primary">post_777</a></td>
                                    <td>patrick_star</td>
                                    <td>스팸/도배</td>
                                    <td>2026-02-13</td>
                                    <td><span class="badge badge-warning">대기 중</span></td>
                                    <td>
                                        <button class="btn btn-xs btn-info" onclick="openReportModal('REP_101')">상세보기</button>
                                    </td>
                                </tr>
                                <tr>
                                    <th scope="row">REP_102</th>
                                    <td>사용자</td>
                                    <td><a href="#" class="text-primary">bad_user_99</a></td>
                                    <td>squidward_t</td>
                                    <td>욕설 및 비방</td>
                                    <td>2026-02-13</td>
                                    <td><span class="badge badge-warning">대기 중</span></td>
                                    <td>
                                        <button class="btn btn-xs btn-info" onclick="openReportModal('REP_102')">상세보기</button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="pagination_area pull-right mt-5">
                        <ul>
                            <li><a href="#"><i class="fa fa-chevron-left"></i></a></li>
                            <li class="active"><a href="#">1</a></li>
                            <li><a href="#">2</a></li>
                            <li><a href="#"><i class="fa fa-chevron-right"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="reportModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">신고 상세 내역 및 처리</h5>
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
            </div>
            <div class="modal-body">
                <h6>신고 상세 사유</h6>
                <div class="p-3 bg-light rounded mt-2" id="modal-report-content">
                </div>
                <hr>
                <div class="form-group">
                    <label for="report-action" class="col-form-label font-weight-bold">처리 결과 선택</label>
                    <select class="custom-select" id="report-action" style="height: calc(2.25rem + 10px); cursor: pointer;">
                        <option value="" disabled selected>-- 처리 방식을 선택하세요 --</option>
                        <optgroup label="경미한 조치">
                            <option value="dismiss" class="text-secondary">⚪ 반려 (허위 신고 또는 무시)</option>
                        </optgroup>
                        <optgroup label="중대 조치">
                            <option value="delete" class="text-warning">🟡 게시물 삭제 처리</option>
                            <option value="ban" class="text-danger">🔴 계정 영구 정지 및 모든 데이터 삭제</option>
                        </optgroup>
                    </select>
                </div>
                <div class="form-group">
                    <label>관리자 메모</label>
                    <textarea class="form-control" id="report-memo" rows="3" placeholder="처리 사유를 입력하세요."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
                <button type="button" class="btn btn-danger" onclick="confirmReport()">처리 완료</button>
            </div>
        </div>
    </div>
</div>

<script src="/assets/js/vendor/jquery-2.2.4.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script>
    function openReportModal(reportId) {
        // 상세 내용을 서버에서 가져오는 AJAX 로직이 들어갈 자리입니다.
        $('#modal-report-content').text(reportId + "번에 대한 신고 상세 내용: 이 사용자는 상습적으로 비방 댓글을 게시하고 있습니다.");
        $('#reportModal').modal('show');
    }

    function confirmReport() {
        const action = $('#report-action').val();
        const memo = $('#report-memo').val();

        if(!memo) {
            alert("처리 사유를 입력해주세요.");
            return;
        }

        if(confirm("이 처리를 적용하시겠습니까? 완료 후에는 [처리된 신고목록]으로 이동합니다.")) {
            // 서버로 결과 전송 로직
            alert("처리가 완료되었습니다.");
            location.reload();
        }
    }
</script>
</body>
</html>